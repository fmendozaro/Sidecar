<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head th:replace="partials/head :: head('Sidecar')">
    <meta charset="UTF-8">
    <title>Index</title>


</head>
<body>
    <nav th:replace="partials/navbar :: nav"></nav>

    <main class="row w-100">
        <div class="col-md-3" sec:authorize="isAuthenticated()">
            <h5>Left column</h5>
        </div>
        <div class="col-md-9">
            <h4>Sidecar Landing Page</h4>
            <div id="map"></div>

        </div>


    </main>

    <div th:include="partials/footer :: footer"></div>
    <div th:include="partials/scripts :: scripts"></div>
</body>

<script>
    var geocoder;
    var map;
    function initMap() {
        map = new google.maps.Map(document.getElementById("map"), {
            center: {lat: -34.397, lng: 150.644},
            zoom: 8
        });
    }

    function initAutocomplete() {
        const map = new google.maps.Map(
            document.getElementById("map"),
            {
                center: {lat: -33.8688, lng: 151.2195},
                zoom: 13,
                mapTypeId: "roadmap",
            }
        )
    };

    const input = document.getElementById("pac-input");
    const searchBox = new google.maps.places.SearchBox(input);
    map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);


    function codeAddress() {
        var address = document.getElementById('address').value;
        geocoder.geocode( { 'address': address}, function(results, status) {
            if (status === 'OK') {
                map.setCenter(results[0].geometry.location);
                var marker = new google.maps.Marker({
                    map: map,
                    position: results[0].geometry.location
                });
            } else {
                alert('Geocode was not successful for the following reason: ' + status);
            }
        });
    }

</script>
</html>